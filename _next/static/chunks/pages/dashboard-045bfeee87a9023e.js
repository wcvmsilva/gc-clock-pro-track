(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{528:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return a(4805)}])},4805:function(e,s,a){"use strict";a.r(s);var t=a(5893),l=a(7294),o=a(1163),r=a(1664),d=a.n(r);s.default=()=>{let e=(0,o.useRouter)(),[s,a]=(0,l.useState)({name:"Usu\xe1rio",role:"funcion\xe1rio"}),[r,n]=(0,l.useState)(!1),[i,c]=(0,l.useState)(null),[m,x]=(0,l.useState)(null),[u,h]=(0,l.useState)(!1),[g,p]=(0,l.useState)(""),[b,N]=(0,l.useState)(0),[j,f]=(0,l.useState)(0),[v,w]=(0,l.useState)(25);return(0,l.useEffect)(()=>{let e=localStorage.getItem("userEmail");"admin.demo@gchome.com"===e?(a({name:"Admin Demo",role:"admin"}),w(35)):(a({name:"John Funcion\xe1rio",role:"funcion\xe1rio"}),w(25)),N(32.5),f(32.5*v)},[v]),(0,t.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,t.jsx)("header",{className:"bg-white shadow-md",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-4 sm:px-6 flex justify-between items-center",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"GC Clock Pro Track"}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsxs)("span",{className:"mr-4",children:["Ol\xe1, ",s.name]}),(0,t.jsx)("button",{onClick:()=>{localStorage.removeItem("userEmail"),e.push("/login")},className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-md text-sm",children:"Sair"})]})]})}),(0,t.jsx)("main",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Registro de Ponto"}),g&&(0,t.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:g}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("p",{className:"mb-2",children:"Status atual:"}),(0,t.jsxs)("div",{className:"inline-flex items-center px-4 py-2 rounded-full ".concat(r?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:[(0,t.jsx)("span",{className:"w-3 h-3 rounded-full mr-2 ".concat(r?"bg-green-500":"bg-red-500")}),(0,t.jsx)("span",{children:r?"Trabalhando":"N\xe3o registrado"})]})]}),i&&(0,t.jsxs)("p",{className:"mb-4",children:["\xdaltimo registro: ",i]}),m&&(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("p",{className:"font-medium",children:"Localiza\xe7\xe3o atual:"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Latitude: ",m.latitude.toFixed(6)]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Longitude: ",m.longitude.toFixed(6)]})]}),(0,t.jsx)("button",{onClick:()=>{h(!0),p(""),navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>{let a={latitude:e.coords.latitude,longitude:e.coords.longitude,timestamp:new Date().toISOString()};x(a),n(!r),c(new Date().toLocaleTimeString()),console.log("Registro de ponto:",{user:s.name,action:r?"clock-out":"clock-in",location:a,timestamp:new Date().toISOString()}),h(!1)},e=>{p("Erro ao obter localiza\xe7\xe3o: ".concat(e.message)),h(!1)},{enableHighAccuracy:!0}):(p("Geolocaliza\xe7\xe3o n\xe3o suportada neste navegador"),h(!1))},disabled:u,className:"w-full py-3 rounded-md font-medium text-white ".concat(r?"bg-red-500 hover:bg-red-600":"bg-green-500 hover:bg-green-600"," transition duration-300"),children:u?"Processando...":r?"Registrar Sa\xedda":"Registrar Entrada"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Foto do Local"}),(0,t.jsx)("p",{className:"mb-4 text-gray-600",children:"Fa\xe7a upload de uma foto do seu local de trabalho atual ou tire uma foto com a c\xe2mera."}),(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsxs)("label",{htmlFor:"photo-upload",className:"block w-full py-3 px-4 rounded-md border-2 border-dashed border-gray-300 text-center cursor-pointer hover:bg-gray-50 transition duration-300",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Clique para selecionar ou tirar uma foto"}),(0,t.jsx)("input",{id:"photo-upload",type:"file",accept:"image/*",capture:"environment",onChange:e=>{let s=e.target.files[0];s&&setTimeout(()=>{alert('Foto "'.concat(s.name,'" enviada com sucesso!'))},1e3)},className:"hidden"})]})}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:[(0,t.jsx)("p",{children:"Formatos aceitos: JPG, PNG, HEIC"}),(0,t.jsx)("p",{children:"Tamanho m\xe1ximo: 10MB"})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 md:col-span-2",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Resumo de Horas"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-blue-800 mb-1",children:"Horas Hoje"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-blue-900",children:"4.5h"})]}),(0,t.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-purple-800 mb-1",children:"Total Semanal"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-purple-900",children:[b,"h"]})]}),(0,t.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-green-800 mb-1",children:"Valor Acumulado"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-green-900",children:["$",j.toFixed(2)]})]})]}),(0,t.jsxs)("div",{className:"border-t pt-4",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Valor por hora: $",v.toFixed(2)]}),"admin"===s.role&&(0,t.jsx)("p",{className:"text-sm text-blue-600 mt-2",children:(0,t.jsx)(d(),{href:"#",className:"hover:underline",children:"Gerenciar valores e relat\xf3rios"})})]})]})]})})]})}}},function(e){e.O(0,[424,774,888,179],function(){return e(e.s=528)}),_N_E=e.O()}]);