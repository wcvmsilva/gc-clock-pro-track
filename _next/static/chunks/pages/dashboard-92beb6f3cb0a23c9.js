(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{4297:function(e,r,t){"use strict";t.d(r,{Z:function(){return l}});var a=t(7294),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),l=(e,r)=>{let t=(0,a.forwardRef)(({color:t="currentColor",size:l=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:c="",children:d,...m},u)=>(0,a.createElement)("svg",{ref:u,...s,width:l,height:l,stroke:t,strokeWidth:i?24*Number(n)/Number(l):n,className:["lucide",`lucide-${o(e)}`,c].join(" "),...m},[...r.map(([e,r])=>(0,a.createElement)(e,r)),...Array.isArray(d)?d:[d]]));return t.displayName=`${e}`,t}},3217:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});var a=t(4297);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a.Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},528:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return t(2062)}])},5850:function(e,r,t){"use strict";var a=t(5893);t(7294),r.Z=e=>{let{className:r="",size:t="medium"}=e;return(0,a.jsx)("div",{className:"flex items-center ".concat(r),children:(0,a.jsxs)("svg",{width:"200",height:"50",viewBox:"0 0 200 50",className:"".concat({small:"h-8",medium:"h-12",large:"h-16"}[t]," object-contain"),fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("rect",{width:"200",height:"50",fill:"#1A1A1A"}),(0,a.jsx)("text",{x:"20",y:"35",fill:"#D4AF37",fontSize:"24",fontWeight:"bold",children:"GC Clock Pro"})]})})}},802:function(e,r,t){"use strict";t.d(r,{z:function(){return o}});var a=t(5893),s=t(7294);let o=s.forwardRef((e,r)=>{let{className:t="",variant:s="default",size:o="default",children:l,...n}=e,i="".concat("inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none"," ").concat({default:"bg-gc-gold text-gc-black hover:bg-gc-gold-dark",destructive:"bg-red-500 text-white hover:bg-red-600",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"underline-offset-4 hover:underline text-primary"}[s]," ").concat({default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"}[o]," ").concat(t);return(0,a.jsx)("button",{className:i,ref:r,...n,children:l})});o.displayName="Button"},3e3:function(e,r,t){"use strict";t.d(r,{I:function(){return o}});var a=t(5893),s=t(7294);let o=s.forwardRef((e,r)=>{let{className:t="",...s}=e;return(0,a.jsx)("input",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ".concat(t),ref:r,...s})});o.displayName="Input"},2062:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return y}});var a=t(5893),s=t(7294),o=t(1163),l=t(8950),n=t(3217),i=t(5850),c=t(802),d=t(4297);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let m=(0,d.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),u=(0,d.Z)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),h=e=>{let{onCapture:r,onClose:t}=e;return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white p-4 rounded-lg w-full max-w-md",children:[(0,a.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Capturar Foto"}),(0,a.jsx)("div",{className:"bg-gray-200 h-64 flex items-center justify-center",children:(0,a.jsx)(u,{className:"h-12 w-12 text-gray-500"})}),(0,a.jsxs)("div",{className:"flex justify-end gap-2 mt-4",children:[(0,a.jsx)(c.z,{variant:"outline",onClick:t,children:"Cancelar"}),(0,a.jsx)(c.z,{onClick:()=>{var e;let t=document.createElement("canvas");t.width=640,t.height=480,null===(e=t.getContext("2d"))||void 0===e||e.fillRect(0,0,640,480),t.toBlob(e=>{if(e){let t=new File([e],"photo.jpg",{type:"image/jpeg"});r(t)}},"image/jpeg")},children:"Capturar"})]})]})})};var f=()=>{let[e,r]=(0,s.useState)(!1),[t,o]=(0,s.useState)(!1),[i,d]=(0,s.useState)(!1),{currentUser:f}=(0,l.aC)(),x=async()=>{if(f){r(!0);try{await new Promise(e=>setTimeout(e,1e3)),o(!t),t||d(!0),alert(t?"Sa\xedda registrada com sucesso!":"Entrada registrada com sucesso!")}catch(e){console.error("Erro ao registrar hor\xe1rio:",e),alert("Erro ao registrar hor\xe1rio: ".concat(e.message||"Erro desconhecido"))}finally{r(!1)}}},g=async e=>{if(f){r(!0);try{await new Promise(e=>setTimeout(e,1e3)),d(!1),alert("Foto enviada com sucesso!")}catch(e){console.error("Erro ao enviar foto:",e),alert("Erro ao enviar foto: ".concat(e.message||"Erro desconhecido"))}finally{r(!1)}}};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(c.z,{onClick:x,disabled:e,className:"w-full py-8 text-lg font-bold ".concat(t?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"),children:e?(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)(n.Z,{className:"h-5 w-5 animate-spin"}),"Processando..."]}):(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)(m,{className:"h-5 w-5"}),t?"Registrar Sa\xedda":"Registrar Entrada"]})}),t&&(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsxs)(c.z,{onClick:()=>d(!0),variant:"outline",className:"flex items-center gap-2",children:[(0,a.jsx)(u,{className:"h-4 w-4"}),"Enviar Foto do Local"]})}),i&&(0,a.jsx)(h,{onCapture:g,onClose:()=>d(!1)})]})},x=t(3e3);let g=s.forwardRef((e,r)=>{let{className:t="",...s}=e;return(0,a.jsx)("div",{className:"w-full overflow-auto",children:(0,a.jsx)("table",{ref:r,className:"w-full caption-bottom text-sm ".concat(t),...s})})});g.displayName="Table";let b=s.forwardRef((e,r)=>{let{className:t="",...s}=e;return(0,a.jsx)("thead",{ref:r,className:"border-b ".concat(t),...s})});b.displayName="TableHeader";let p=s.forwardRef((e,r)=>{let{className:t="",...s}=e;return(0,a.jsx)("tbody",{ref:r,className:"divide-y ".concat(t),...s})});p.displayName="TableBody";let j=s.forwardRef((e,r)=>{let{className:t="",...s}=e;return(0,a.jsx)("tr",{ref:r,className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted ".concat(t),...s})});j.displayName="TableRow";let v=s.forwardRef((e,r)=>{let{className:t="",...s}=e;return(0,a.jsx)("th",{ref:r,className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 ".concat(t),...s})});v.displayName="TableHead";let w=s.forwardRef((e,r)=>{let{className:t="",...s}=e;return(0,a.jsx)("td",{ref:r,className:"p-4 align-middle [&:has([role=checkbox])]:pr-0 ".concat(t),...s})});w.displayName="TableCell";var N=()=>{let[e,r]=(0,s.useState)([]),[t,o]=(0,s.useState)(!1),{currentUser:n,users:i,updateUser:d}=(0,l.aC)();(0,s.useEffect)(()=>{if((null==n?void 0:n.role)!=="admin")return;let e=i.filter(e=>"employee"===e.role);r(e)},[n,i]);let m=(t,a)=>{r(e.map(e=>e.id===t?{...e,hourlyRate:a}:e))},u=async()=>{o(!0);try{for(let r of(await new Promise(e=>setTimeout(e,1e3)),e))await d(r);alert("Valores por hora atualizados com sucesso!")}catch(e){console.error("Erro ao salvar valores por hora:",e),alert("Erro ao salvar valores por hora: ".concat(e.message||"Erro desconhecido"))}finally{o(!1)}};return(null==n?void 0:n.role)!=="admin"?(0,a.jsx)("div",{children:"Acesso restrito a administradores."}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:"Gerenciar Valores por Hora"}),(0,a.jsxs)(g,{children:[(0,a.jsx)(b,{children:(0,a.jsxs)(j,{children:[(0,a.jsx)(v,{children:"Nome"}),(0,a.jsx)(v,{children:"Email"}),(0,a.jsx)(v,{children:"Valor por Hora (R$)"})]})}),(0,a.jsx)(p,{children:e.map(e=>(0,a.jsxs)(j,{children:[(0,a.jsx)(w,{children:e.name}),(0,a.jsx)(w,{children:e.email}),(0,a.jsx)(w,{children:(0,a.jsx)(x.I,{type:"number",min:"0",step:"0.01",value:e.hourlyRate,onChange:r=>m(e.id,parseFloat(r.target.value)||0),className:"w-24"})})]},e.id))})]}),(0,a.jsx)(c.z,{onClick:u,disabled:t,className:"bg-[#D4AF37] hover:bg-[#B8941F] text-black",children:t?"Salvando...":"Salvar Altera\xe7\xf5es"})]})},y=()=>{let{currentUser:e,loading:r,logout:t}=(0,l.aC)(),c=(0,o.useRouter)();return((0,s.useEffect)(()=>{r||e||c.push("/login")},[e,r,c]),r)?(0,a.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-b from-[#1A1A1A] to-[#2A2A2A]",children:(0,a.jsx)(n.Z,{className:"h-10 w-10 animate-spin text-[#D4AF37]"})}):e?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("header",{className:"bg-[#1A1A1A] text-white p-4 shadow-md",children:(0,a.jsxs)("div",{className:"container mx-auto flex justify-between items-center",children:[(0,a.jsx)(i.Z,{size:"medium"}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("span",{className:"font-medium",children:e.name}),(0,a.jsx)("button",{onClick:()=>t(),className:"px-4 py-2 bg-[#D4AF37] text-[#1A1A1A] rounded hover:bg-[#B8941F] transition-colors",children:"Sair"})]})]})}),(0,a.jsxs)("main",{className:"container mx-auto py-8 px-4",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Dashboard"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Registro de Horas"}),(0,a.jsx)(f,{})]}),"admin"===e.role&&(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,a.jsx)(N,{})})]})]}),(0,a.jsx)("footer",{className:"bg-[#1A1A1A] text-white p-4 mt-auto",children:(0,a.jsx)("div",{className:"container mx-auto text-center",children:(0,a.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," GC Home Improvements LLC. Todos os direitos reservados."]})})})]}):null}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=528)}),_N_E=e.O()}]);